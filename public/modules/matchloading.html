<!-- Redis Matchmaking System Scripts -->
<script src="/socket.io/socket.io.js"></script>
<script src="/modules/matchmaking/telegramroomlist.js"></script>
<script src="/modules/matchmaking/matchmaking.js"></script>
<script src="/modules/matchmaking/websocket.js"></script>
<script src="/modules/matchmaking/integration.js"></script>

<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Redis –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
  console.log('üéØ Redis Matchmaking: Scripts loaded successfully');
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  const components = {
    'TelegramRoomList': typeof TelegramRoomList !== 'undefined',
    'RedisMatchmaking': typeof RedisMatchmaking !== 'undefined',
    'MatchmakingWebSocket': typeof MatchmakingWebSocket !== 'undefined',
    'MatchmakingIntegration': typeof MatchmakingIntegration !== 'undefined'
  };
  
  console.log('üéØ Redis Matchmaking: Components status:', components);
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
  const allLoaded = Object.values(components).every(status => status === true);
  
  if (allLoaded) {
    console.log('‚úÖ Redis Matchmaking: All components loaded successfully');
  } else {
    console.warn('‚ö†Ô∏è Redis Matchmaking: Some components not loaded:', 
      Object.entries(components).filter(([name, loaded]) => !loaded));
  }
});

// –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞
window.getMatchmakingStatus = function() {
  if (window.redisMatchmaking) {
    return window.redisMatchmaking.getConnectionStatus();
  }
  return { error: 'Matchmaking not initialized' };
};

// –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–º–µ–Ω—ã –ø–æ–∏—Å–∫–∞ –º–∞—Ç—á–∞
window.cancelMatchmaking = function() {
  if (window.redisMatchmaking) {
    return window.redisMatchmaking.cancelQuickMatch();
  }
  return false;
};
</script>